# 타입

> 타입 = 개념, 일상적인 용어인 개념을 대체하는 말인 "타입"

타입(`=개념`)이란 우리가 인식하고 있는 다양한 사물이나 객체에 적용할 수 있는 아이디어나 관념을 의미한다. 어떤 객체에 타입(`=개념`)을 적용할 수 있을 때 그 객체를 타입의 인스턴스라고하며,  
타입(`=개념)`의 인스턴스는 타입을 구성하는 외연(extension)인 객체 집합의 일원이 된다.

## 데이터 타입

실제 메모리에는 0과 1 뿐이며, 해당 의미를 해석할 수 있는 "사람"은 아무도 없을 것이다. 그래서 사람들은 다뤄야 하는 데이터의 용도와 행동에 따라 분류를 했고 타입 시스템(type system)이 생겼다.  
타입 시스템은 데이터가 비트열로 보임으로써 생기는 혼란을 방지하고, 데이터가 잘못 사용되는 것을 방지하는 제약사항을 부과하는 것이다.

### 타입의 특징

- 데이터가 어떻게 사용되는 것의 정의
- 데이터를 메모리에 어떻게 표현하는지 감춤

## 객체와 타입

객체지향 프로그램을 작성할 때 객체를 일종의 데이터처럼 사용하는데, 객체를 타입에 따라 분류하고 그 타입에 이름을 붙이는 것은 새로운 `데이터 타입`을 선언하는 것과 같다.    
하지만 객체는 데이터라고 할 없으며 객체에서 중요한 것은 객체의 행동이고, 상태는 추상적인 개념일 뿐이다.  
객체가 어떤 타입에 속하는지 결정하는 것은 객체가 수행하는 행동이고, 내부적인 표현은 외부로부터 감춰지는데 이 두 가지 특징으로 객체지향 설계에 중요한 원칙을 알아낼 수 있다.

### 행동

객체가 어떤 행동을 하느냐에 따라 객체의 타입이 결정하며, 객체의 내부 표현 방식이 다르더라도 동일 책임의 객체는 동일 타입이라고 볼 수 있다.  
이는 객체를 타입으로 분류할 때 사용하는 기준을 명확하게 제시할 수 있으며 객체가 어떤 데이터를 가지고 있는지는 타입을 분류하는데에 영향이 없다.(반대로 동일 데이터, 다른 행동인 경우엔 다른 타입으로 분류)

- 동일 책임이지만 내부 표현 방식이 다르다는 것은 해당 책임을 처리하는 방식은 다를 수 밖에 없는데, 이것은 `다형성`의 의미를 가지게 된다.
- 또한 데이터의 내부 표현 방식과 무관하게 행동만을 고려하는 것은 외부에 내부 데이터를 감춰야하는 것인데, 이 원칙은 `캡슐화`의 의미를 가진다.

행동에 따라 객체를 분류하기 위해서는 객체가 내부적으로 관리해야하는 데이터가 아니라 행동을 먼저 고려해야한다.  
떄문에 데이터 보다는 책임을 수행하는 필요한 외부 인터페이스 뒤로 캡슐화하는 `책임-주도 설게(Responsibility-Driven Design)` 방식을 채택해야 한다.

## 일반화/특수화(generalization/specialization)

타입과 타입 사이에는 일반화/특수화 관계가 존재할 수 있으며, 일반화와 특수화는 동시에 일어난다.  
더 특수하다는 것은 일반적인 개념보다 범위가 더 좁다는 것을 의미하고, 반대로 일반적이라는 것은 더 포괄적인 의미를 내포하기 때문에 더 넓은 범위를 가지게 된다.

이를 객체지향에 적용하면, 이 관계를 결정하는 것은 데이터가 아니라 행동을 의미하게 되며 더 특수한 상태를 표현한다고 해서 타입 간의 관계가 성립되는 것이 아니다.    
이를 적용하면 일반적인 타입이란 특수한 타입이 가진 행동들 중 일부 행동을 가지게 되는것이며 일반적인 타입은 특수한 타입보다 더 적은 수의 행동을 가지게 된다.  
일반적인 타입을 (Supertype)이라고 하고, 특수 타입을(Subtype)이라 칭한다.

## 정적 모델

### 타입의 목적

인간의 인지 능력으로는 시간에 따라 동적으로 변하는 객체의 복잡성을 이해하기 어렵기 떄문에, 타입을 사용하면 동적으로 변하는 객체의 상태를 동적인 관점으로 표현할 수 있게 되어 인지하기 쉬운 상태가 된다. 그래서
결국 타입은 추상화라고 볼 수 있다.

### 동적 모델과 정적 모델

- 동적 모델(dynamic model): 객체가 특정 시점에 구체적으로 어떤 상태를 가지느냐로, 이를 객체의 스냅샷(snapshot)이라고 하며 객체 다이어그램(object diagram)이라고도 불린다.
- 정적 모델(static model): 객체가 가질 수 있는 모든 상태와 몯느 행동을 시간에 독립적으로 표현하는 것으로 타입 다이어그램(type diagram)이라고도 불린다.

객체지향 애플리케이션을 설계하고 구현하기 위해선느ㅏ 객체 관점의 동적 모델과 타입 관점의 정적 모델을 적절히 혼용해야 한다.  
이를 구분하는 것은 실제로 프로그래밍이라는 행위와 관련이 깊은데, 클래스를 작성하는 시점에는 시스템을 정적인 관점에서 접근하는 것이며, 실제로 애플리케이션이 동작하는 시점에는 객체의 동적인 모델을 볼 수 있게된다.

### 클래스

객체지향 프로그래밍 언어에서 정적인 모델은 클래스를 이용해 구현되고 타입을 구현하는 가장 보편적인 방법은 클래스를 이용하는 것이다.  
`타입을 구현한다`이며 클래스와 타입은 동일한 것이 아니고 타입은 객체를 분류하기 위해 사용하는 개념일 뿐이며 클래스는 타입을 구현하는 수단 중 하나일 뿐이다.

###### 참고자료

- [객체지향의 사실과 오해: 역할, 책임, 협력 관점에서 본 객체지향](https://www.nl.go.kr/seoji/contents/S80100000000.do?schM=intgr_detail_view_isbn&page=1&pageUnit=10&schType=simple&schStr=객체지향의+사실&isbn=9788998139766&cipId=200539082%2C4626710)